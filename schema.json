{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "definitions": {
    "aspect": {
      "type": "object",
      "properties": {
        "quantity": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "On a scale of 1 to 5, how intense was it?"
        },
        "quality": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "On a scale of 1 to 5, how much did you enjoy it?"
        },
        "notes": {
          "type": "string",
          "default": "",
          "description": "Describe your reaction and any specific notes."
        }
      },
      "required": ["quantity", "quality"]
    }
  },
  "type": "object",
  "properties": {
    "date": {
      "type": "string",
      "description": "The date you brewed this coffee."
    },
    "coffee": {
      "type": "object",
      "properties": {
        "origin": {
          "type": "object",
          "properties": {
            "country": {
              "type": "string",
              "description": "The country, such as 'Ethiopia' or 'Guatemala'"
            },
            "region": {
              "type": "string",
              "description": "The region or coop, such as 'Worka' or 'Nano Challa'."
            }
          },
          "description": "The area in which this coffee was grown.",
          "required": ["country", "region"]
        },
        "roaster": {
          "type": "string",
          "description": "The name of the individual or business who roasted the coffee."
        },
        "roastDate": {
          "type": "string",
          "description": "The date this coffee was roasted."
        }
      },
      "description": "The coffee beans used in your brew.",
      "required": ["origin", "roaster", "roastDate"]
    },
    "ratio": {
      "type": "string",
      "description": "The ration of coffee to water, such as '1:16' or '22g:340g'"
    },
    "grind": {
      "type": "integer",
      "description": "The number of clicks, with zero being when burrs are fully closed."
    },
    "bloomTime": {
      "type": "string",
      "description": "The bloom time."
    },
    "pourTime": {
      "type": "string",
      "description": "The total time from beginning of bloom until a steady stream suddenly falters to separate drops."
    },
    "aroma": {
      "$ref": "#/definitions/aspect",
      "description": "The smell of your brew (low to high), such as 'caramel', 'peach', or 'chocolate'."
    },
    "acidity": {
      "$ref": "#/definitions/aspect",
      "description": "The fruitiness (low to high), such as 'tart', 'crisp', or 'mellow'. Usually indicated by puckering/drying of the tongue or salivation."
    },
    "sweetness": {
      "$ref": "#/definitions/aspect",
      "description": "The sweetness (low to high), such as 'mild', 'deep', or 'rich'. Usually indicated by how 'rounded' the fruit quality is."
    },
    "body": {
      "$ref": "#/definitions/aspect",
      "description": "The texture or mouthfeel (light to heavy), such as 'watery', 'silky', 'syrupy', or 'creamy'."
    },
    "finish": {
      "$ref": "#/definitions/aspect",
      "description": "The aftertaste (short to long), such as 'quick', 'lingering', or 'clean'. Don't rush this aspect."
    },
    "flavor": {
      "type": "string",
      "description": "The overall flavor of this brew, such as 'peach', 'plum', or 'cherry'."
    },
    "score": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "description": "On a scale of 1 to 10, how much did you enjoy this brew?"
    },
    "notes": {
      "type": "string",
      "default": "",
      "description": "Any additional notes about this brew, such as a faster pour."
    },
    "actionItem": {
      "type": "string",
      "default": "",
      "description": "Any variables to change on the next brew."
    }
  },
  "required": [
    "date",
    "coffee",
    "ratio",
    "grind",
    "bloomTime",
    "pourTime",
    "aroma",
    "acidity",
    "sweetness",
    "body",
    "finish",
    "flavor",
    "score"
  ]
}
